{"ast":null,"code":"var _jsxFileName = \"/home/gachez/Documents/websites/creative-knowledge-resources/frontend/src/components/publication-components/PublicationThumbnail.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\n\nclass PublicationThumbnail extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      publications: [],\n      isLoaded: false\n    };\n  }\n\n  componentDidMount() {\n    axios.get(\"https://tengezastudios.co.ke/wp/wp-json/wp/v2/publications?_embed\").then(res => {\n      this.setState({\n        publications: res.data,\n        isLoaded: true\n      });\n    }).catch(err => console.log(err));\n    localStorage.clear();\n  }\n\n  render() {\n    let filteredPublications = this.state.publications.filter(pub => {\n      return pub.acf['discipline'].includes(this.props.searchtext) || pub.acf['year_of_publication'].includes(this.props.searchtext) || pub.acf['format'];\n    });\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"images-container\",\n      style: {\n        width: '66.5%',\n        height: '700px',\n        position: 'absolute',\n        top: \"\".concat(73 - this.props.value, \"%\"),\n        left: '130px',\n        display: 'grid',\n        gridTemplateColumns: 'repeat(3,1fr)',\n        gridTemplateRows: 'repeat(3,1fr)',\n        gridColumnGap: '15px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, filteredPublications < 1 ? this.state.publications.map(publication => {\n      return React.createElement(Link, {\n        key: publication.id,\n        to: \"/publication-page-content\",\n        onClick: () => {\n          localStorage.setItem('id', publication.id);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        alt: \"thumbnail\",\n        src: publication._embedded['wp:featuredmedia']['0'].source_url,\n        style: {\n          width: '300px',\n          height: '150px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }));\n    }) : filteredPublications.map(publication => {\n      return React.createElement(Link, {\n        key: publication.id,\n        to: \"/publication-page-content\",\n        onClick: () => {\n          localStorage.setItem('id', publication.id);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        alt: \"thumbnail\",\n        src: publication._embedded['wp:featuredmedia']['0'].source_url,\n        style: {\n          width: '300px',\n          height: '150px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }));\n    })));\n  }\n\n}\n\nexport default PublicationThumbnail;","map":{"version":3,"sources":["/home/gachez/Documents/websites/creative-knowledge-resources/frontend/src/components/publication-components/PublicationThumbnail.js"],"names":["React","Component","axios","Link","PublicationThumbnail","state","publications","isLoaded","componentDidMount","get","then","res","setState","data","catch","err","console","log","localStorage","clear","render","filteredPublications","filter","pub","acf","includes","props","searchtext","width","height","position","top","value","left","display","gridTemplateColumns","gridTemplateRows","gridColumnGap","map","publication","id","setItem","_embedded","source_url"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\nimport axios from 'axios'\nimport {Link} from 'react-router-dom'\n\n\nclass PublicationThumbnail extends Component{\n\n    state={\n        publications: [],\n        isLoaded: false\n     }\n  \n      componentDidMount(){\n          axios.get(`https://tengezastudios.co.ke/wp/wp-json/wp/v2/publications?_embed`)\n          .then(res =>{\n              this.setState({\n                  publications: res.data,\n                  isLoaded: true\n              })\n          })\n          .catch(err => console.log(err))\n          localStorage.clear()\n      }\n  \n\n    render(){\n\n        let filteredPublications = this.state.publications.filter(\n            (pub) => {\n                return pub.acf['discipline'].includes(this.props.searchtext) || pub.acf['year_of_publication'].includes(this.props.searchtext) || pub.acf['format'] \n            }\n        )\n\n        return(\n            <React.Fragment>\n                \n        {/* the images container  */}\n        <div id=\"images-container\" style={{\n            width: '66.5%',\n            height: '700px',\n            position: 'absolute',\n            top: `${73 - this.props.value}%`,\n            left: '130px',\n            display: 'grid',\n            gridTemplateColumns: 'repeat(3,1fr)',\n            gridTemplateRows: 'repeat(3,1fr)',\n            gridColumnGap: '15px'\n        }}>\n\n        \n    {/* thumbnail images */}\n\n    {\n        filteredPublications < 1 ?\n\n                this.state.publications.map(publication => {\n                    return(\n                    <Link key={publication.id} to={\"/publication-page-content\"} onClick ={\n                    () =>{\n                        localStorage.setItem('id', publication.id)\n                         }\n                    }>\n                    <img alt=\"thumbnail\" src={publication._embedded['wp:featuredmedia']['0'].source_url} style={{\n                        width:'300px',\n                        height: '150px'\n                    }}/>\n                    </Link>)}) : \n                filteredPublications.map(publication => {\n                    return(\n                    <Link key={publication.id} to={\"/publication-page-content\"} onClick ={\n                    () =>{\n                        localStorage.setItem('id', publication.id)\n                         }\n                    }>\n                    <img alt=\"thumbnail\" src={publication._embedded['wp:featuredmedia']['0'].source_url} style={{\n                        width:'300px',\n                        height: '150px'\n                    }}/>\n                    </Link>)})\n    }\n                </div>\n            </React.Fragment>\n        )\n    }\n}\n\nexport default PublicationThumbnail;"]},"metadata":{},"sourceType":"module"}